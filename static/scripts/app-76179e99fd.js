function routesConfig(t,e,n){n.html5Mode(!0).hashPrefix("!"),e.otherwise("/"),t.state("site",{abstract:!0,component:"site"}).state("site.items",{url:"/",component:"items"}).state("site.addItem",{url:"/add-item",component:"addItems"}).state("site.checkout",{url:"/checkout",component:"checkout"})}routesConfig.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("app",["ui.router","ngToast","ngStorage"]),angular.module("app").service("cartStorage",["$localStorage",function(t){t.cartItems||(t.cartItems={});var e={getCount:function(){return e.getItems().length},getItems:function(){return Object.values(t.cartItems)},addItem:function(e){var n=t.cartItems[e.id];n?n.count=(n.count||1)+1:t.cartItems[e.id]=e},removeItem:function(e){delete t.cartItems[e]},clear:function(){t.$reset()}};return e}]),angular.module("app").component("site",{templateUrl:"app/components/site.html",controller:["$scope","$state","cartStorage",function(t,e,n){this.getCartCount=function(){return n.getCount()}}]}),angular.module("app").component("items",{templateUrl:"app/components/items.html",controller:["$scope","$state","$http","cartStorage","ngToast",function(t,e,n,a,r){n.get("/api/items").then(function(e){t.items=e.data}),t.addToCart=function(t){console.log("add to cart:",t),a.addItem(t),r.create("Item added to cart!")}}]}),angular.module("app").component("addItems",{templateUrl:"app/components/items-add.html",controller:["$scope","$state","$http",function(t,e,n){this.submit=function(){n.post("/api/items",{name:t.name,price:t.price,img:t.image}).then(function(t){})}}]}),angular.module("app").component("checkout",{templateUrl:"app/components/checkout.html",controller:["$scope","$state","cartStorage",function(t,e,n){t.items=n.getItems(),this.removeFromCart=function(e){n.removeItem(e.id),t.items=n.getItems()}}]}),angular.module("app").run(["$templateCache",function(t){t.put("app/components/checkout.html",'<h2>Checkout!</h2>\r\n<table class="table">\r\n  <thead>\r\n    <tr>\r\n      <th scope="col">#</th>\r\n      <th scope="col-1">Item</th>\r\n      <th scope="col"></th>\r\n      <th scope="col">Price</th>\r\n      <th scope="col">Quantity</th>\r\n      <th scope="col"></th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr ng-repeat="item in items">\r\n      <th scope="row">{{$index+1}}</th>\r\n      <td width="100"><img ng-src="{{item.img}}" class="img-thumbnail"></td>\r\n      <td><span>{{item.name}}</span></td>\r\n      <td><span>{{item.price | currency}}</span></td>\r\n      <td>{{item.count || 1 }}</td>\r\n      <td><button class="btn btn-outline-danger" ng-click="$ctrl.removeFromCart(item)">Remove</button></td>\r\n    </tr>\r\n  </tbody>\r\n</table>'),t.put("app/components/items-add.html",'<h2>Put Items up for Sale</h2>\r\n<form ng-submit="$ctrl.submit()">\r\n  <label for="name">Name:</label> <input type="text" ng-model="name"><br>\r\n  <label for="price">Price:</label> <input type="text" ng-model="price"><br>\r\n  <label for="image">Image Url:</label> <input type="text" ng-model="image"><br>\r\n  <button type="submit">Submit</button>\r\n</form>'),t.put("app/components/items.html",'<div class="row">\n<div class="col-md-4" ng-repeat="item in items">\n  <div class="card mb-4 box-shadow">\n    <div class="card-img-top bg-faded" ng-style="{\'background-image\': \'url(\' + item.img +\')\'}"></div>\n    <div class="card-block">\n      <p class="card-text">{{item.name}}</p>\n      <div class="d-flex justify-content-between align-items-center">\n      \t<button class="btn btn-sm btn-outline-primary" ng-click="addToCart(item)">Add to Cart</button>\n        <span class="text-muted">{{item.price | currency}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n</div>'),t.put("app/components/site.html",'<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow">\r\n  <h1 class="my-0 mr-md-auto">RandoStore</h1>\r\n  <nav class="my-2 my-md-0 mr-md-3">\r\n    <a class="p-2 text-dark" ui-sref="site.addItem">Sell</a>\r\n    <a class="active p-2 text-dark" ui-sref="site.items">Buy</a>\r\n  </nav>\r\n  <a class="btn btn-outline-primary" ui-sref="site.checkout">\r\n  \tCheckout <span class="badge badge-primary">{{$ctrl.getCartCount()}}</span>\r\n  </a>\r\n</div>\r\n<toast></toast>\r\n<div class="container mt-5" ui-view></div>')}]),angular.module("app").config(routesConfig);
//# sourceMappingURL=../maps/scripts/app-76179e99fd.js.map
