{"version":3,"sources":["routes.js","index.js","app/services/cartStorage.js","app/components/site.js","app/components/items.js","app/components/items-add.js","app/components/checkout.js","templateCacheHtml.js"],"names":["routesConfig","$stateProvider","$urlRouterProvider","$locationProvider","html5Mode","hashPrefix","otherwise","state","abstract","component","url","angular","module","service","$localStorage","cartItems","vm","getCount","getItems","length","Object","values","addItem","item","cartItem","id","count","removeItem","itemId","clear","$reset","templateUrl","controller","$scope","$state","cartStorage","this","getCartCount","$http","ngToast","get","then","res","items","data","addToCart","console","log","create","submit","post","name","price","img","image","removeFromCart","run","$templateCache","put","config"],"mappings":"AAKA,QAAAA,cAAAC,EAAAC,EAAAC,GACAA,EAAAC,WAAA,GAAAC,WAAA,KACAH,EAAAI,UAAA,KAEAL,EACAM,MAAA,QACAC,UAAA,EACAC,UAAA,SAEAF,MAAA,cACAG,IAAA,IACAD,UAAA,UAEAF,MAAA,gBACAG,IAAA,YACAD,UAAA,aAEAF,MAAA,iBACAG,IAAA,YACAD,UAAA,8FCxBAE,QACAC,OAAA,OAAA,YAAA,UAAA,cCDAD,QACAC,OAAA,OACAC,QAAA,eAAA,gBAAA,SAAAC,GACAA,EAAAC,YAAAD,EAAAC,aACA,IAAAC,IACAC,SAAA,WACA,MAAAD,GAAAE,WAAAC,QAEAD,SAAA,WACA,MAAAE,QAAAC,OAAAP,EAAAC,YAEAO,QAAA,SAAAC,GACA,GAAAC,GAAAV,EAAAC,UAAAQ,EAAAE,GACAD,GACAA,EAAAE,OAAAF,EAAAE,OAAA,GAAA,EAEAZ,EAAAC,UAAAQ,EAAAE,IAAAF,GAEAI,WAAA,SAAAC,SACAd,GAAAC,UAAAa,IAEAC,MAAA,WACAf,EAAAgB,UAGA,OAAAd,MCzBAL,QACAC,OAAA,OACAH,UAAA,QACAsB,YAAA,2BACAC,YAAA,SAAA,SAAA,cAAA,SAAAC,EAAAC,EAAAC,GACAC,KAAAC,aAAA,WACA,MAAAF,GAAAlB,gBCNAN,QACAC,OAAA,OACAH,UAAA,SACAsB,YAAA,4BACAC,YAAA,SAAA,SAAA,QAAA,cAAA,UAAA,SAAAC,EAAAC,EAAAI,EAAAH,EAAAI,GACAD,EAAAE,IAAA,cACAC,KAAA,SAAAC,GACAT,EAAAU,MAAAD,EAAAE,OAGAX,EAAAY,UAAA,SAAAtB,GACAuB,QAAAC,IAAA,eAAAxB,GACAY,EAAAb,QAAAC,GACAgB,EAAAS,OAAA,4BCbArC,QACAC,OAAA,OACAH,UAAA,YACAsB,YAAA,gCACAC,YAAA,SAAA,SAAA,QAAA,SAAAC,EAAAC,EAAAI,GACAF,KAAAa,OAAA,WACAX,EAAAY,KAAA,cACAC,KAAAlB,EAAAkB,KACAC,MAAAnB,EAAAmB,MACAC,IAAApB,EAAAqB,QAEAb,KAAA,SAAAC,WCXA/B,QACAC,OAAA,OACAH,UAAA,YACAsB,YAAA,+BACAC,YAAA,SAAA,SAAA,cAAA,SAAAC,EAAAC,EAAAC,GACAF,EAAAU,MAAAR,EAAAjB,WACAkB,KAAAmB,eAAA,SAAAhC,GACAY,EAAAR,WAAAJ,EAAAE,IACAQ,EAAAU,MAAAR,EAAAjB,gBCRAP,QAAAC,OAAA,OAAA4C,KAAA,iBAAA,SAAAC,GAAAA,EAAAC,IAAA,+BAAA,kwBACAD,EAAAC,IAAA,gCAAA,8WACAD,EAAAC,IAAA,4BAAA,4kBACAD,EAAAC,IAAA,2BAAA,0kBPHA/C,QACAC,OAAA,OACA+C,OAAA3D","file":"../../scripts/app-76179e99fd.js","sourcesContent":["angular\r\n  .module('app')\r\n  .config(routesConfig);\r\n\r\n/** @ngInject */\r\nfunction routesConfig($stateProvider, $urlRouterProvider, $locationProvider) {\r\n  $locationProvider.html5Mode(true).hashPrefix('!');\r\n  $urlRouterProvider.otherwise('/');\r\n\r\n  $stateProvider\r\n    .state('site', {\r\n      abstract: true,\r\n      component: 'site'\r\n    })\r\n    .state('site.items', {\r\n      url: '/',\r\n      component: 'items'\r\n    })\r\n    .state('site.addItem', {\r\n      url: '/add-item',\r\n      component: 'addItems'\r\n    })\r\n    .state('site.checkout', {\r\n      url: '/checkout',\r\n      component: 'checkout'\r\n    })\r\n    ;\r\n}\r\n","angular\r\n  .module('app', ['ui.router', 'ngToast', 'ngStorage']);\r\n","angular\n  .module('app')\n  .service('cartStorage', function($localStorage) {\n  \tif (!$localStorage.cartItems) $localStorage.cartItems = {};\n\tvar vm = {\n\t\tgetCount: function() {\n\t\t\treturn vm.getItems().length;\n\t\t},\n\t\tgetItems: function() {\n\t\t\treturn Object.values($localStorage.cartItems);\n\t\t},\n\t\taddItem: function(item) {\n\t\t\tvar cartItem = $localStorage.cartItems[item.id];\n\t\t\tif (cartItem)\n\t\t\t\tcartItem.count = (cartItem.count || 1) + 1;\n\t\t\telse\n\t\t\t\t$localStorage.cartItems[item.id] = item;\n\t\t},\n\t\tremoveItem: function(itemId) {\n\t\t\tdelete $localStorage.cartItems[itemId];\n\t\t},\n\t\tclear: function() {\n\t\t\t$localStorage.$reset();\n\t\t}\n\t};\n\treturn vm;\n  });","angular\r\n  .module('app')\r\n  .component('site', {\r\n\ttemplateUrl: 'app/components/site.html',\r\n\tcontroller: function ($scope, $state, cartStorage){\r\n\t\tthis.getCartCount = function(){\r\n\t\t\treturn cartStorage.getCount();\r\n\t\t}\r\n\t}\r\n  });","angular\r\n  .module('app')\r\n  .component('items', {\r\n\ttemplateUrl: 'app/components/items.html',\r\n\tcontroller: function ($scope, $state, $http, cartStorage, ngToast) {\r\n\t\t$http.get(\"/api/items\")\r\n\t\t.then(function(res){\r\n\t\t\t$scope.items = res.data;\r\n\t\t});\r\n\r\n\t\t$scope.addToCart = function (item) {\r\n\t\t\tconsole.log(\"add to cart:\", item);\r\n\t\t\tcartStorage.addItem(item);\r\n\t\t\tngToast.create('Item added to cart!');\r\n\t\t}\r\n\t}\r\n  });","angular\r\n  .module('app')\r\n  .component('addItems', {\r\n\ttemplateUrl: 'app/components/items-add.html',\r\n\tcontroller: function ($scope, $state, $http) {\r\n\t\tthis.submit = function () {\r\n\t\t\t$http.post(\"/api/items\", {\r\n\t\t\t\tname: $scope.name,\r\n\t\t\t\tprice: $scope.price,\r\n\t\t\t\timg: $scope.image,\r\n\t\t\t})\r\n\t\t\t.then(function(res){\r\n\t\t\t\t// res.data;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n  });","angular\r\n  .module('app')\r\n  .component('checkout', {\r\n\ttemplateUrl: 'app/components/checkout.html',\r\n\tcontroller: function ($scope, $state, cartStorage) {\r\n\t\t$scope.items = cartStorage.getItems();\r\n\t\tthis.removeFromCart = function (item) {\r\n\t\t\tcartStorage.removeItem(item.id);\r\n\t\t\t$scope.items = cartStorage.getItems();\r\n\t\t}\r\n\t}\r\n  });","angular.module('app').run(['$templateCache', function($templateCache) {$templateCache.put('app/components/checkout.html','<h2>Checkout!</h2>\\r\\n<table class=\"table\">\\r\\n  <thead>\\r\\n    <tr>\\r\\n      <th scope=\"col\">#</th>\\r\\n      <th scope=\"col-1\">Item</th>\\r\\n      <th scope=\"col\"></th>\\r\\n      <th scope=\"col\">Price</th>\\r\\n      <th scope=\"col\">Quantity</th>\\r\\n      <th scope=\"col\"></th>\\r\\n    </tr>\\r\\n  </thead>\\r\\n  <tbody>\\r\\n    <tr ng-repeat=\"item in items\">\\r\\n      <th scope=\"row\">{{$index+1}}</th>\\r\\n      <td width=\"100\"><img ng-src=\"{{item.img}}\" class=\"img-thumbnail\"></td>\\r\\n      <td><span>{{item.name}}</span></td>\\r\\n      <td><span>{{item.price | currency}}</span></td>\\r\\n      <td>{{item.count || 1 }}</td>\\r\\n      <td><button class=\"btn btn-outline-danger\" ng-click=\"$ctrl.removeFromCart(item)\">Remove</button></td>\\r\\n    </tr>\\r\\n  </tbody>\\r\\n</table>');\n$templateCache.put('app/components/items-add.html','<h2>Put Items up for Sale</h2>\\r\\n<form ng-submit=\"$ctrl.submit()\">\\r\\n  <label for=\"name\">Name:</label> <input type=\"text\" ng-model=\"name\"><br>\\r\\n  <label for=\"price\">Price:</label> <input type=\"text\" ng-model=\"price\"><br>\\r\\n  <label for=\"image\">Image Url:</label> <input type=\"text\" ng-model=\"image\"><br>\\r\\n  <button type=\"submit\">Submit</button>\\r\\n</form>');\n$templateCache.put('app/components/items.html','<div class=\"row\">\\n<div class=\"col-md-4\" ng-repeat=\"item in items\">\\n  <div class=\"card mb-4 box-shadow\">\\n    <div class=\"card-img-top bg-faded\" ng-style=\"{\\'background-image\\': \\'url(\\' + item.img +\\')\\'}\"></div>\\n    <div class=\"card-block\">\\n      <p class=\"card-text\">{{item.name}}</p>\\n      <div class=\"d-flex justify-content-between align-items-center\">\\n      \\t<button class=\"btn btn-sm btn-outline-primary\" ng-click=\"addToCart(item)\">Add to Cart</button>\\n        <span class=\"text-muted\">{{item.price | currency}}</span>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n</div>');\n$templateCache.put('app/components/site.html','<div class=\"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow\">\\r\\n  <h1 class=\"my-0 mr-md-auto\">RandoStore</h1>\\r\\n  <nav class=\"my-2 my-md-0 mr-md-3\">\\r\\n    <a class=\"p-2 text-dark\" ui-sref=\"site.addItem\">Sell</a>\\r\\n    <a class=\"active p-2 text-dark\" ui-sref=\"site.items\">Buy</a>\\r\\n  </nav>\\r\\n  <a class=\"btn btn-outline-primary\" ui-sref=\"site.checkout\">\\r\\n  \\tCheckout <span class=\"badge badge-primary\">{{$ctrl.getCartCount()}}</span>\\r\\n  </a>\\r\\n</div>\\r\\n<toast></toast>\\r\\n<div class=\"container mt-5\" ui-view></div>');}]);"]}